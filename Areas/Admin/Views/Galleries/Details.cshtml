@model GoatSilencerArchitecture.Models.Gallery

@{
    ViewData["Title"] = "Gallery Details";
}

<h1>@Model.Title</h1>

<p>@Model.Description</p>

@if (!string.IsNullOrEmpty(Model.MainImage))
{
    <div class="mb-4 text-center">
        <h5>Main Image</h5>
        <img src="@Model.MainImage" class="img-fluid rounded shadow-sm" style="max-height:400px; object-fit:cover;" />
    </div>
}

@if (Model.Images != null && Model.Images.Any())
{
    <h5>Gallery Images</h5>
    <div class="row">
        @foreach (var img in Model.Images)
        {
            if (img.FilePath != Model.MainImage) // avoid repeating main image
            {
                <div class="col-md-3 mb-3 text-center">
                    <img src="@img.FilePath" class="img-fluid img-thumbnail" style="max-height:200px; object-fit:cover;" />
                    @if (!string.IsNullOrEmpty(img.Caption))
                    {
                        <p>@img.Caption</p>
                    }
                </div>
            }
        }
    </div>
}
else
{
    <p>No images in this gallery yet.</p>
}

<p>
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit Gallery</a>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</p>
