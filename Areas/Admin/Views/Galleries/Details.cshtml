@model GoatSilencerArchitecture.Models.Gallery

@{
    ViewData["Title"] = "Gallery Details";
}

<h1>@Model.Title</h1>

<p>@Model.Description</p>

@if (!string.IsNullOrEmpty(Model.MainImageLeft) || !string.IsNullOrEmpty(Model.MainImageTopRight) || !string.IsNullOrEmpty(Model.MainImageBottomRight))
{
    <div class="mb-4">
        <h5>Main Images</h5>
        <div class="row">
            @if (!string.IsNullOrEmpty(Model.MainImageLeft))
            {
                <div class="col-md-4 text-center">
                    <img src="@Model.MainImageLeft" class="img-fluid rounded shadow-sm" style="max-height:200px; object-fit:cover;" />
                    <p>Left</p>
                </div>
            }
            @if (!string.IsNullOrEmpty(Model.MainImageTopRight))
            {
                <div class="col-md-4 text-center">
                    <img src="@Model.MainImageTopRight" class="img-fluid rounded shadow-sm" style="max-height:200px; object-fit:cover;" />
                    <p>Top Right</p>
                </div>
            }
            @if (!string.IsNullOrEmpty(Model.MainImageBottomRight))
            {
                <div class="col-md-4 text-center">
                    <img src="@Model.MainImageBottomRight" class="img-fluid rounded shadow-sm" style="max-height:200px; object-fit:cover;" />
                    <p>Bottom Right</p>
                </div>
            }
        </div>
    </div>
}

@if (Model.Images != null && Model.Images.Any())
{
    <h5>Gallery Images</h5>
    <div class="row">
        @foreach (var img in Model.Images)
        {
            if (img.FilePath != Model.MainImageLeft && img.FilePath != Model.MainImageTopRight && img.FilePath != Model.MainImageBottomRight) // avoid repeating main images
            {
                <div class="col-md-3 mb-3 text-center">
                    <img src="@img.FilePath" class="img-fluid img-thumbnail" style="max-height:200px; object-fit:cover;" alt="@img.AltText" />
                    @if (!string.IsNullOrEmpty(img.Caption))
                    {
                        <p>@img.Caption</p>
                    }
                </div>
            }
        }
    </div>
}
else
{
    <p>No images in this gallery yet.</p>
}

<p>
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit Gallery</a>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</p>
/a>
</p>
