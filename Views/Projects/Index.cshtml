@model IEnumerable<GoatSilencerArchitecture.Models.Project>

@{
    ViewData["Title"] = "Projects";
}

@section Styles {
    <link rel="stylesheet" href="~/css/Projects/Index.css" asp-append-version="true" />
    <style>
        .project-block {
            position: relative;
            top: 100px; /* Start 100px below final position */
            opacity: 0;
            transition: top 0.3s ease-out, opacity 0.3s ease-out;
        }
        .project-block.show {
            top: 0;
            opacity: 1;
        }
    </style>
}


<div class="projects-container">
    <!-- LEFT GLOBAL COLUMN -->
    <div class="projects-left">
        @foreach (var project in Model)
        {
            <div class="project-block">
                @if (!string.IsNullOrEmpty(project.MainImageLeft))
                {
                    <a asp-action="Details" asp-route-id="@project.Id">
                        <img src="@project.MainImageLeft" alt="@project.ImageLeftHeading" />
                    </a>
                }

                @if (!string.IsNullOrEmpty(project.ImageLeftHeading))
                {
                    <div class="project-heading">@project.ImageLeftHeading</div>
                }

                @if (!string.IsNullOrEmpty(project.ImageLeftParagraph))
                {
                    <div class="project-paragraph">@project.ImageLeftParagraph</div>
                }
            </div>
        }
    </div>

    <!-- RIGHT GLOBAL COLUMN -->
    <div class="projects-right">
        @foreach (var project in Model)
        {
            <div class="project-block">
                @if (!string.IsNullOrEmpty(project.MainImageTopRight))
                {
                    <a asp-action="Details" asp-route-id="@project.Id">
                        <img src="@project.MainImageTopRight" alt="@project.ImageRightTopHeading" />
                    </a>
                }

                @if (!string.IsNullOrEmpty(project.ImageRightTopHeading))
                {
                    <div class="project-heading">@project.ImageRightTopHeading</div>
                }

                @if (!string.IsNullOrEmpty(project.ImageRightTopParagraph))
                {
                    <div class="project-paragraph">@project.ImageRightTopParagraph</div>
                }

                @if (!string.IsNullOrEmpty(project.MainImageBottomRight))
                {
                    <a asp-action="Details" asp-route-id="@project.Id">
                        <img src="@project.MainImageBottomRight" alt="@project.ImageRightBottomHeading" />
                    </a>
                }

                @if (!string.IsNullOrEmpty(project.ImageRightBottomHeading))
                {
                    <div class="project-heading">@project.ImageRightBottomHeading</div>
                }

                @if (!string.IsNullOrEmpty(project.ImageRightBottomParagraph))
                {
                    <div class="project-paragraph">@project.ImageRightBottomParagraph</div>
                }
            </div>
        }
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const projectBlocks = document.querySelectorAll('.project-block');
            projectBlocks.forEach(function(block) {
                block.classList.add('show');
            });
        });
    </script>
}
